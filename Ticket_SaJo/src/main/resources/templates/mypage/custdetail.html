<!-- Basic Page Needs -->
<meta charset="utf-8">
<title>AMovie - Login</title>
<meta name="description" content="A Template by Gozha.net">
<meta name="keywords" content="HTML, CSS, JavaScript">
<meta name="author" content="Gozha.net">

<!-- Mobile Specific Metas-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="telephone=no" name="format-detection">

<!-- Fonts -->
<!-- Font awesome - icon font -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<!-- Roboto -->
<link href='http://fonts.googleapis.com/css?family=Roboto:400,700'
	rel='stylesheet' type='text/css'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<style>
.text-center{
width:700px;

margin:auto;
padding:50px;
float: center;
text-align: center;
}
h1, h2, h3{
text-align: center;
}
.field-wrap{
margin-top:100px;
}
p{
font-size:13px;
text-align: center;
}
.btn-box{
margin:auto;
text-align: center;
}
.btn{
width:78px;
height:30px;
border-radius:5px;
font-size: 10px;
text-align:center;
}
#homebtn{
color:white;
line-height: 20px;
}
#homebtn:hover{
color:#4C4145;

}


</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
function checkname(name) {
	   $.ajax({
	      url:'/checkname',
	      data:{'name':name},
	      success:function(data){
	         if(data == '1') {
	            $('#namespan').text('이미 사용중인 이름입니다.');
	            $('#namespan').css('color','red');
	         }else {
	            $('#namespan').text('사용가능한 아이디입니다');
	            $('#namespan').css('color','#3CB371');
	         }
	      }
	   });
	};
function Back() {
	window.history.back()
}
$(document).ready(function(){
	$('#updatebtn').click(function(){
		$('.user').attr({
			'method':'post',
			'action':'update'
		})
		$('.user').submit();
	});
});
</script>



<body th:if="${session.user != null}">
<div class="container" style="margin-top:100px;">
	<h3 id="h3">회원정보 수정</h3>
	
	<div class="text-center">
	<form class ="user">
	

		
    	<div class="form-inline form-group" >
			<label for="id" class="col-sm-3 control-label">아이디 </label> 
			<div class="col-sm-9">
				<input class="form-control" id="id" type='text' name='id' readonly="readonly" th:value="${session.user.id}" style="width:300px;height:30px;"> 
			</div>
			<div class="col-sm-3"></div>
			<div class="col-sm-9"><span id="idspan">&nbsp</span></div>
		</div>
        <div class="form-inline form-group" >
			<label for="name" class="col-sm-3 control-label">이름 </label> 
			<div class="col-sm-9">
				<input class="form-control" id="name" type='text' name="name" th:value="${session.user.name}" style="width:300px;height:30px;"> 
			</div>
			<div class="col-sm-3"></div>
			<div class="col-sm-9"><span id="namespan">&nbsp</span></div>
		</div>
    
    
    

    


	</form>
	</div>
      <div class="btn-box">
       
      <a href="#" class="btn btn-md btn--warning btn--wider" id="modifybtn">회원정보 수정</a>
      <a href="#"  class="btn btn-md btn--warning btn--wider" onclick="Back()">뒤로 가기</a>
      
      
     </div>
</div>

</body>
<body th:unless="${session.user != null}">
	<div class="wrapper">
	       <div class="error-wrapper">
	           <a th:href="@{/}" class="logo logo--dark">
	               <img alt='logo' src="images/new logo dark.png">
	               <p class="slogan--dark">Classic Movie Theater</p>
	           </a>
	
	           <div class="error">
	               <img alt='' src='images/error.png' class="error__image">
	               <h1 class="error__text">비정상적인 접근입니다. 홈화면으로 이동해주세요</h1>
	               <a th:href="@{/}" class="btn btn-md btn--warning btn--wider" id="homebtn">HOME</a>
	           </div>

	       </div>
	
	      
	
	</div>
</body>